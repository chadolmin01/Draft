{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Stage 1: Idea Breakdown Output (v2)",
  "type": "object",
  "required": ["target", "problem", "solution", "confidence_score"],
  "properties": {
    "target": {
      "type": "string",
      "description": "명확하게 정의된 타겟 고객층"
    },
    "problem": {
      "type": "string",
      "description": "타겟이 겪고 있는 구체적인 문제점"
    },
    "solution": {
      "type": "string",
      "description": "제안하는 솔루션 및 접근 방식"
    },
    "target_market_size": {
      "type": "string",
      "description": "추정 타겟 시장 규모"
    },
    "confidence_score": {
      "type": "number",
      "description": "아이디어 명확도 점수 (0.0 ~ 1.0)",
      "minimum": 0,
      "maximum": 1
    },
    "confidence_reason": {
      "type": "string",
      "description": "confidence_score 산출 근거"
    },
    "original_idea": {
      "type": "string",
      "description": "사용자가 입력한 원본 아이디어"
    },
    "clarification_notes": {
      "type": "array",
      "description": "추가 검증이 필요한 사항 (불확실성, 위험 요소 등)",
      "items": {
        "type": "string"
      }
    },

    "_pro_features_preview": {
      "type": "object",
      "description": "Light 티어 전용: Pro 기능 미리보기"
    },

    "problem_quantified": {
      "type": "object",
      "description": "Pro 이상: 문제 정량화",
      "properties": {
        "pain_intensity": {
          "type": "string",
          "enum": ["낮음", "중간", "높음", "매우높음"]
        },
        "willingness_to_pay": {
          "type": "string"
        }
      }
    },

    "revenue_analysis": {
      "type": "object",
      "description": "Pro 이상: 수익 모델 분석",
      "properties": {
        "revenue_streams": {
          "type": "array",
          "items": {"type": "string"}
        },
        "cost_structure": {
          "type": "array",
          "items": {"type": "string"}
        },
        "pricing_strategy": {
          "type": "string"
        }
      }
    },

    "business_viability": {
      "type": "object",
      "description": "Pro 이상: 비즈니스 실현 가능성",
      "properties": {
        "strengths": {
          "type": "array",
          "items": {"type": "string"}
        },
        "weaknesses": {
          "type": "array",
          "items": {"type": "string"}
        },
        "opportunities": {
          "type": "array",
          "items": {"type": "string"}
        },
        "threats": {
          "type": "array",
          "items": {"type": "string"}
        }
      }
    },

    "monetization_difficulty": {
      "type": "string",
      "enum": ["낮음", "중간", "높음"],
      "description": "Pro 이상: 수익화 난이도"
    },

    "monetization_reason": {
      "type": "string",
      "description": "Pro 이상: 수익화 난이도 근거"
    },

    "first_revenue_timeline": {
      "type": "string",
      "description": "Pro 이상: 첫 수익 발생 예상 시기"
    },

    "revenue_potential": {
      "type": "object",
      "description": "Heavy 전용: 수익 예측",
      "properties": {
        "year1": {"type": "string"},
        "year3": {"type": "string"},
        "assumptions": {"type": "string"}
      }
    },

    "recommended_approach": {
      "type": "string",
      "description": "Heavy 전용: 추천 접근 방식"
    }
  }
}
