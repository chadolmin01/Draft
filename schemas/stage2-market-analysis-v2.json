{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Stage 2: Market Analysis Output (v2)",
  "type": "object",
  "required": ["market_analysis", "competitors", "feasibility_score"],
  "properties": {
    "market_analysis": {
      "type": "object",
      "required": ["market_size", "growth_rate", "target_segment"],
      "properties": {
        "market_size": {
          "type": "string",
          "description": "전체 시장 규모 (글로벌/국내)"
        },
        "growth_rate": {
          "type": "string",
          "description": "연평균 성장률 (CAGR) 또는 트렌드"
        },
        "target_segment": {
          "type": "string",
          "description": "타겟 세그먼트의 구체적 규모"
        },
        "market_trends": {
          "type": "array",
          "description": "주요 시장 트렌드",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "competitors": {
      "type": "array",
      "description": "경쟁사 분석",
      "minItems": 1,
      "maxItems": 10,
      "items": {
        "type": "object",
        "required": ["name", "strength", "weakness", "differentiation"],
        "properties": {
          "name": {
            "type": "string",
            "description": "경쟁사명"
          },
          "strength": {
            "type": "string",
            "description": "경쟁사의 강점"
          },
          "weakness": {
            "type": "string",
            "description": "경쟁사의 약점"
          },
          "differentiation": {
            "type": "string",
            "description": "우리 아이디어와의 차별점"
          },
          "url": {
            "type": "string",
            "description": "경쟁사 웹사이트 (선택)"
          }
        }
      }
    },
    "feasibility_score": {
      "type": "number",
      "description": "시장 실현 가능성 점수 (0.0 ~ 1.0)",
      "minimum": 0,
      "maximum": 1
    },
    "risks": {
      "type": "array",
      "description": "주요 위험 요소",
      "items": {
        "type": "string"
      }
    },
    "additional_insights": {
      "type": "object",
      "description": "추가 인사이트 (보너스 분석)",
      "properties": {
        "market_gap": {
          "type": "string",
          "description": "시장 공백 또는 기회"
        },
        "entry_barrier": {
          "type": "string",
          "description": "진입 장벽 수준 및 설명"
        },
        "scalability": {
          "type": "string",
          "description": "확장 가능성 및 제약 사항"
        },
        "timing": {
          "type": "string",
          "description": "시장 진입 타이밍 (선택)"
        }
      }
    }
  }
}
